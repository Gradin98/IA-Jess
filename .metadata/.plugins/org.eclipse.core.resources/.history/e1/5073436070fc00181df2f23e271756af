(deftemplate element(slot item)(slot multime)(slot folosit(default FALSE)))
(assert (element (item 1)(multime A)))
(assert (element (item 2)(multime A)))
(assert (element (item 3)(multime A)))
(assert (element (item 4)(multime A)))
(assert (element (item 5)(multime A)))
(assert (element (item 6)(multime A)))
(assert (element (item 7)(multime A)))
(assert (element (item 8)(multime A)))
(assert (element (item 9)(multime A)))
(assert (element (item 10)(multime A)))
(assert (element (item 2)(multime B)))
(assert (element (item 4)(multime B)))
(assert (element (item 6)(multime B)))
(assert (element (item 8)(multime B)))
(assert (element (item 10)(multime B)))
(assert (element (item 12)(multime B)))

(defrule intersectie
    ?idmf <- (element (item ?i)(multime ?m)(folosit FALSE))
    ?idmfa <- (element (item ?i)(multime ?m1 & ~?m)(folosit FALSE))
    =>
    (modify ?idmf(folosit TRUE))
    (modify ?idmfa (folosit TRUE))
    (assert (element (item ?i)(multime I)))
    (printout t "Elemenetele multimi I " ?i crlf)
)
(run)

